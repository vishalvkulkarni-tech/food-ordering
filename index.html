<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Annapurna Kitchen - Authentic Homemade Food</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="site-title">üçõ Annapurna Kitchen</h1>
                <div class="header-info">
                    <span class="working-hours">üìû 9766448463 | ‚è∞ 10 AM - 7 PM</span>
                    <div class="status-indicator" id="statusIndicator">
                        <span class="status-dot"></span>
                        <span class="status-text">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Loading State -->
        <div id="loadingState" class="loading-state">
            <div class="loading-spinner"></div>
            <p>Loading delicious menu...</p>
        </div>

        <!-- Kitchen Closed Message -->
        <div id="closedMessage" class="closed-message hidden">
            <div class="container">
                <div class="closed-content">
                    <h2>üçΩÔ∏è Kitchen is Currently Closed</h2>
                    <p>We're open from <strong>10 AM to 7 PM</strong></p>
                    <p>As items are freshly cooked, it will take little time to serve you the authentic taste</p>
                </div>
            </div>
        </div>

        <!-- Menu Section -->
        <section id="menuSection" class="menu-section hidden">
            <div class="container">
                <div class="section-header">
                    <h2>Our Fresh Menu</h2>
                    <p>As items are freshly cooked, it will take little time to serve you the authentic taste</p>
                </div>
                <div id="menuGrid" class="menu-grid">
                    <!-- Menu items will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Cart Summary -->
        <div id="cartSummary" class="cart-summary hidden">
            <div class="container">
                <div class="cart-content">
                    <div class="cart-header">
                        <h3>Your Order</h3>
                        <button id="clearCart" class="btn btn--outline btn--sm">Clear Cart</button>
                    </div>
                    <div id="cartItems" class="cart-items">
                        <!-- Cart items will be displayed here -->
                    </div>
                    <div class="cart-totals">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span id="subtotal">‚Çπ0</span>
                        </div>
                        <div class="total-row">
                            <span>Packaging:</span>
                            <span id="packagingCharges">‚Çπ0</span>
                        </div>
                        <div class="total-row">
                            <span>Convenience Fees:</span>
                            <span>‚Çπ0</span>
                        </div>
                        <div class="total-row">
                            <span>Platform Fees:</span>
                            <span>‚Çπ0</span>
                        </div>
                        <div id="discountRow" class="total-row discount-row hidden">
                            <span>Discount (<span id="appliedCouponCode"></span>):</span>
                            <span id="discountAmount">-‚Çπ0</span>
                        </div>
                        <div class="total-row final-total">
                            <span>Total:</span>
                            <span id="finalTotal">‚Çπ0</span>
                        </div>
                    </div>
                    <button id="proceedToCheckout" class="btn btn--primary btn--full-width">Proceed to Checkout</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Checkout</h3>
                <button id="closeCheckout" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Order Summary -->
                <div class="checkout-section">
                    <h4>Order Summary</h4>
                    <div id="checkoutItems" class="checkout-items">
                        <!-- Items will be populated here -->
                    </div>
                </div>

                <!-- Coupon Section -->
                <div class="checkout-section">
                    <h4>Apply Coupon</h4>
                    <div class="coupon-form">
                        <input type="text" id="couponInput" class="form-control" placeholder="Enter coupon code" style="display: inline-block; width: calc(100% - 80px); margin-right: 8px;">
                        <button id="applyCoupon" class="btn btn--secondary" style="display: inline-block; width: 70px;">Apply</button>
                    </div>
                    <div id="couponError" class="coupon-error hidden"></div>
                    <div id="couponSuccess" class="coupon-success hidden"></div>
                </div>

                <!-- Pricing Summary -->
                <div class="checkout-section">
                    <div class="checkout-totals">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span id="checkoutSubtotal">‚Çπ0</span>
                        </div>
                        <div class="total-row">
                            <span>Packaging:</span>
                            <span id="checkoutPackaging">‚Çπ0</span>
                        </div>
                        <div class="total-row">
                            <span>Convenience Fees:</span>
                            <span>‚Çπ0</span>
                        </div>
                        <div class="total-row">
                            <span>Platform Fees:</span>
                            <span>‚Çπ0</span>
                        </div>
                        <div id="checkoutDiscountRow" class="total-row discount-row hidden">
                            <span>Discount:</span>
                            <span id="checkoutDiscountAmount">-‚Çπ0</span>
                        </div>
                        <div class="total-row final-total">
                            <span>Total:</span>
                            <span id="checkoutFinalTotal">‚Çπ0</span>
                        </div>
                    </div>
                    <p class="delivery-message">Free for 5km radius, else depends on location sent via parcel services</p>
                </div>

                <!-- Customer Details -->
                <div class="checkout-section">
                    <h4>Customer Details</h4>
                    <form id="customerForm">
                        <div class="form-group">
                            <label class="form-label">Full Name *</label>
                            <input type="text" id="customerName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mobile Number *</label>
                            <input type="tel" id="customerMobile" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Complete Address *</label>
                            <textarea id="customerAddress" class="form-control" rows="3" required></textarea>
                        </div>
                    </form>
                </div>

                <!-- Payment Section -->
                <div id="paymentSection" class="checkout-section hidden">
                    <h4>Payment</h4>
                    <div class="payment-content">
                        <div class="qr-container">
                            <canvas id="qrCode"></canvas>
                            <p>Scan QR code to pay ‚Çπ<span id="paymentAmount">0</span></p>
                        </div>
                        <div class="payment-actions">
                            <button id="whatsappButton" class="btn btn--primary btn--full-width">
                                üì± Send Order via WhatsApp
                            </button>
                            <button id="copyOrderButton" class="btn btn--outline btn--full-width">
                                üìã Copy Order Details
                            </button>
                        </div>
                        <div class="payment-note">
                            <p><strong>Please share payment screenshot along with menu</strong></p>
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button id="generatePayment" class="btn btn--primary btn--full-width">Generate Payment & Send Order</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Message -->
    <div id="successMessage" class="success-message hidden">
        <div class="success-content">
            <h3>‚úÖ Order Sent Successfully!</h3>
            <p>Please share payment screenshot along with menu</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>